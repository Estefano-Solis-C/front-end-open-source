<div class="tracking-container">
  <!-- Contenedor del Mapa -->
  <div id="map" class="map-container"></div>

  <!-- Panel de Estado Superpuesto -->
  <div class="status-panel">
    <div class="status-header">
      <h3>ğŸ“ Monitor de Rastreo en Tiempo Real</h3>
    </div>

    <div class="status-content">
      <!-- ğŸ…¿ï¸ Mensaje informativo cuando el vehÃ­culo estÃ¡ estacionado -->
      <div class="status-item" *ngIf="vehicleState === 'Estacionado'"
           style="background: #FFF3E0; padding: 12px; border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #FF9800;">
        <div style="display: flex; align-items: center; gap: 8px;">
          <span style="font-size: 24px;">ğŸ…¿ï¸</span>
          <div>
            <div style="font-weight: bold; color: #E65100; font-size: 14px;">VehÃ­culo Estacionado</div>
            <div style="font-size: 12px; color: #666; margin-top: 4px;">Este vehÃ­culo estÃ¡ disponible para renta</div>
          </div>
        </div>
      </div>

      <!-- Nombre del Arrendatario (solo si estÃ¡ rentado) -->
      <div class="status-item" *ngIf="vehicleState !== 'Estacionado'">
        <span class="status-label">ğŸ‘¤ Conductor:</span>
        <span class="status-value">{{ renterName }}</span>
      </div>

      <!-- Estado Actual -->
      <div class="status-item">
        <span class="status-label">ğŸ“Š Estado:</span>
        <span class="status-value status-badge"
              [style.background-color]="statusColor"
              [style.color]="'white'">
          {{ vehicleState }}
        </span>
      </div>

      <!-- Velocidad (ocultar si estÃ¡ estacionado) -->
      <div class="status-item" *ngIf="vehicleState !== 'Estacionado'">
        <span class="status-label">ğŸš€ Velocidad:</span>
        <span class="status-value speed-value">{{ currentSpeed }} km/h</span>
      </div>

      <!-- Nivel de Gasolina (ocultar si estÃ¡ estacionado) -->
      <div class="status-item" *ngIf="vehicleState !== 'Estacionado'">
        <span class="status-label">â›½ Gasolina:</span>
        <span class="status-value fuel-value"
              [class.low-fuel]="currentFuel <= 20"
              [class.critical-fuel]="currentFuel <= 10">
          {{ currentFuel }}%
        </span>
      </div>

      <!-- InformaciÃ³n adicional -->
      <div class="status-item timestamp">
        <span class="status-label">ğŸ• ActualizaciÃ³n:</span>
        <span class="status-value">{{ vehicleState === 'Estacionado' ? 'PosiciÃ³n fija' : 'En tiempo real' }}</span>
      </div>
    </div>

    <!-- Indicador de estado visual -->
    <div class="status-indicator"
         [class.moving]="currentSpeed > 0 && vehicleState !== 'Estacionado'"
         [class.stopped]="currentSpeed === 0 || vehicleState === 'Estacionado'"
         [class.parked]="vehicleState === 'Estacionado'">
      <div class="pulse-dot"></div>
    </div>
  </div>
</div>

